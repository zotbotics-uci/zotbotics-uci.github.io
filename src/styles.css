/* ===========================
   Global theme (single, darker blue)
   =========================== */
:root{
  --page-bg:#06122a;          /* slightly darker page blue */
  --nav-bg:#0e1937;           /* darkest blue for header */
  --accent:#e8d68a;           /* sand gold */
  --text:#e8eaed;
  --muted:#b3bcc7;
  --card:#0a1a36;             /* darker card tone */
  --shadow:0 10px 30px rgba(0,0,0,.25);

  --container:1200px;
  --gutter:clamp(16px,3vw,24px);

  font-synthesis-weight:none;
}

/* Base */
*{ box-sizing:border-box }
html,body,#root{ height:100% }
body{
  margin:0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
    "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol", sans-serif;
  color:var(--text);
  background:var(--page-bg);     /* single solid background */
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
img,svg,video,canvas{ max-width:100%; height:auto }
a{ color:inherit; text-decoration:none }
.app-shell{ display:flex; flex-direction:column; min-height:100vh }
.page{ flex:1 }

@media (prefers-reduced-motion:reduce){
  *{ animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; scroll-behavior:auto !important; }
}

/* ===========================
   Navbar / Footer (flat bg)
   =========================== */
.nav{
  position:sticky; top:0; z-index:50;
  background:var(--nav-bg);            /* darkest header */
  border-bottom:1px solid rgba(255,255,255,.06);
  backdrop-filter:blur(8px);
}
.nav-inner{
  max-width:var(--container); margin:0 auto;
  display:flex; align-items:center; gap:24px;
  padding:14px var(--gutter);
}
.brand{ display:flex; align-items:center; gap:10px; font-weight:700; letter-spacing:.5px }
.brand img{ width:32px; height:32px }
.nav-links{ margin-left:auto; display:flex; gap:clamp(14px,2.2vw,28px); align-items:center; flex-wrap:wrap }
.nav-link{ opacity:.8; text-transform:uppercase; font-size:13px; letter-spacing:.12em; padding-block:6px }
.nav-link.active{ opacity:1; border-bottom:2px solid var(--accent) }

.footer{
  background:var(--page-bg);
  border-top:1px solid rgba(255,255,255,.08);
}
.footer .section{ padding-top:28px; padding-bottom:28px }
.small{ font-size:14px; color:var(--muted) }
.small strong{ color:var(--text) }

/* ===========================
   Sections / Hero
   =========================== */
.section{
  max-width:var(--container); margin:0 auto;
  padding:clamp(40px,7vw,56px) var(--gutter);
  overflow:hidden; position:relative;
  background:transparent;
}
.hero{
  padding-top:clamp(80px,12vw,120px);
  padding-bottom:clamp(80px,12vw,120px);
  text-align:center;
  background:transparent;
}

/* Headings */
.eyebrow{
  font-size:14px; letter-spacing:.16em; text-transform:uppercase; color:var(--muted);
  margin-bottom:16px; font-weight:400;
}
.title{
  font-weight:900;
  font-size:clamp(40px,8vw,96px);
  line-height:.9;
  letter-spacing:.02em;
  color:var(--accent);
  margin:0 0 24px;
  text-align:center;
}
.subtitle{
  font-size:clamp(18px,4vw,28px);
  color:var(--text); opacity:.9; line-height:1.5;
  margin:0 0 48px; max-width:min(800px,92%); margin-inline:auto;
  text-align:center;
}

/* Accent utilities */
.accent-title{ color:var(--accent); font-weight:800 }
.accent-title-lg{ font-size:clamp(22px,2.2vw,32px); line-height:1.2 }

/* Buttons */
.cta{
  display:inline-flex; align-items:center; gap:8px; font-weight:600;
  padding:12px 20px; border:1px solid rgba(255,255,255,.15); border-radius:999px;
  font-size:16px; transition:all .2s ease; cursor:pointer; background:none; color:var(--text);
  appearance:none; -webkit-appearance:none;
}
.cta:visited{ color:var(--text) }
.cta:hover{ color:var(--accent); border-color:var(--accent); background:rgba(232,214,138,.10) }
.cta:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; border-radius:999px }

/* ===========================
   Grid helpers
   =========================== */
.grid{ display:grid; gap:clamp(20px,3vw,32px) }
.cols-2{ grid-template-columns:repeat(2,minmax(0,1fr)) }
.cols-3{ grid-template-columns:repeat(3,minmax(0,1fr)) }
@media (max-width:1200px){ .cols-3{ grid-template-columns:repeat(2,minmax(0,1fr)) } }
@media (max-width:900px){ .cols-2,.cols-3{ grid-template-columns:1fr } }

/* ===========================
   Cards
   =========================== */
.card{
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  box-shadow:var(--shadow);
  overflow:hidden; position:relative; z-index:1;
}
.card-pad{ padding:clamp(20px,3vw,32px) }
.card-pad h2{
  margin:0 0 20px;
  font-size:clamp(24px,2.5vw,32px);
  font-weight:700; color:var(--accent); line-height:1.2;
}
.card-pad h3{ margin:0 0 16px; font-size:clamp(18px,2vw,20px); font-weight:600; color:var(--text) }
.card-pad p{
  margin:0 0 16px;
  line-height:1.7; font-size:clamp(16px,1.6vw,18px);
  color:var(--text); opacity:.9;
}
.card-pad p:last-child{ margin-bottom:0 }

/* Meeting info block */
.meeting-info{
  background:rgba(232,214,138,.08);
  border:1px solid rgba(232,214,138,.2);
  border-radius:12px; padding:20px; margin-top:24px;
}
.meeting-info strong{ color:var(--accent); font-size:16px; display:block; margin-bottom:8px }
.meeting-time{ font-size:15px; line-height:1.5; color:var(--text); opacity:.95 }

/* Helpers */
.big-number{ font-size:clamp(40px,6vw,64px); font-weight:800 }
.label{ font-size:12px; letter-spacing:.15em; text-transform:uppercase; color:var(--muted) }

/* ===========================
   Media
   =========================== */
.grid.cols-2{ align-items:center }
.media{
  width:100%; border-radius:16px; overflow:hidden; margin:0 auto;
  background:rgba(255,255,255,.02);
}
.media>img{ width:100%; height:auto; object-fit:cover; display:block }
.media.contain>img{ object-fit:contain }
.media.lg{ max-height:420px }               /* default cap */

/* Slight vertical crop where opted-in via class */
.media.cropped{ max-height:340px }
@media (min-width:900px){ .media.cropped{ max-height:380px } }
@media (max-width:900px){ .media.cropped{ max-height:300px } }
.media.cropped>img{
  width:100%; height:100%; object-fit:cover; object-position:center;
}

/* Ensure full image in Makerspace when using 'contain' */
.media.lg.contain{ max-height:none }        /* remove cap only for contain */

/* Thumbs / gallery */
.media.thumb{
  max-height:250px; aspect-ratio:4/3; display:flex; align-items:center; justify-content:center;
}
.media.thumb>img{ object-position:center; object-fit:cover }
.media.no-border{ border:none; box-shadow:var(--shadow) }

/* Gallery grid */
.grid.gallery{ grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:16px }

/* Mobile tweaks */
@media (max-width:900px){
  .media,.media.lg,.media.thumb{ width:100%; max-height:400px }
  .hero{ padding-top:80px; padding-bottom:80px }
  .card-pad{ padding:24px }
  .grid{ gap:24px }
}
@media (max-width:480px){
  .nav-inner{ gap:12px; padding-inline:12px }
  .nav-links{ gap:10px }
  .subtitle{ margin-bottom:32px }
}

/* ===========================
   Optional halo (kept off)
   =========================== */
.halo-wrap{ position:relative; isolation:isolate; overflow:hidden }
.halo-wrap::before{
  content:""; position:absolute; inset:-20% -10%;
  z-index:-1; pointer-events:none; display:none;
  background:radial-gradient(ellipse 800px 400px at 30% 50%,
    rgba(232,214,138,.25) 0%,
    rgba(232,214,138,.12) 30%,
    rgba(232,214,138,.04) 50%,
    rgba(232,214,138,0) 70%);
  filter:blur(20px);
}

/* ===========================
   Footer extras
   =========================== */
.address-card{ padding:0; background:none; border:none; box-shadow:none }
.address-title{ color:var(--text); font-weight:800; margin-bottom:8px }
.address-text{
  display:block; background:var(--card);
  border:1px solid rgba(255,255,255,.14);
  border-radius:16px; box-shadow:var(--shadow);
  padding:16px 18px; font-style:normal; line-height:1.5; color:var(--text); opacity:.9;
}
.social-links{ display:flex; gap:10px; margin-top:8px; flex-wrap:wrap }
.social-pill{
  display:inline-flex; align-items:center; gap:8px;
  padding:8px 12px;
  border:1px solid rgba(255,255,255,.18);
  border-radius:999px; background:rgba(232,214,138,.06);
  text-decoration:none;
  transition:transform .15s ease, border-color .15s ease, background .15s ease, color .15s ease;
}
.social-pill .pill-icon{ color:var(--accent) }
.social-pill .pill-emoji{ font-size:16px; line-height:1 }
.social-pill .handle{ color:var(--muted); margin-left:2px }
.social-pill .ext{ opacity:.8; margin-left:2px }
.social-pill:hover{
  border-color:var(--accent); background:rgba(232,214,138,.12);
  transform:translateY(-1px); color:var(--text);
}

.section:last-of-type{ padding-bottom:72px }
.line{ height:1px; background:rgba(255,255,255,.1); margin:28px 0 }
.foot-grid{ display:grid; gap:16px; grid-template-columns:repeat(3,minmax(0,1fr)) }
@media (max-width:800px){ .foot-grid{ grid-template-columns:1fr } }

/* ===========================
   Projects (UNCHANGED)
   =========================== */
.projects-grid{
  display:grid; grid-template-columns:1fr;
  gap:28px; align-items:stretch;
}
@media (min-width:980px){ .projects-grid{ grid-template-columns:1fr 1fr } }

.project-card{
  background:var(--card);
  border:1px solid rgba(255,255,255,.14);
  border-radius:16px; box-shadow:var(--shadow);
  transition:transform .15s ease, border-color .15s ease;
  display:flex; flex-direction:column;
}
.project-card:hover{ transform:translateY(-2px); border-color:rgba(255,255,255,.22) }

.card-head{
  padding:20px 22px 10px 22px;
  display:grid; grid-template-columns:auto 1fr; grid-template-rows:auto auto;
  column-gap:12px; row-gap:4px; align-items:baseline; text-align:left;
}
.card-num{ grid-row:span 2; opacity:.75; font-variant-numeric:tabular-nums; letter-spacing:.06em }
.card-title{ margin:0; font-size:clamp(1rem,1.6vw,1.2rem); line-height:1.3; color:var(--text) }
.card-sub{ font-size:.9rem; color:var(--muted) }
.card-blurb{ padding:0 22px 14px 22px; color:var(--text); opacity:.95 }
.card-blurb.full{ display:block; overflow:visible }

/* Media inside project card */
.card-media{
  width:100%; background:var(--card);
  border-radius:16px; display:flex; align-items:center; justify-content:center;
  margin-top:auto; margin-bottom:20px; padding:16px; overflow:hidden;
}
.card-media img{
  width:100%; height:auto; object-fit:cover; object-position:center;
  display:block; border-radius:12px;
}

/* Projects hero */
.projects-hero .subtitle{ text-align:center; margin-inline:auto }

/* Narrow viewport adjustments */
@media (max-width:700px){
  .card-head{ padding:16px 16px 8px 16px }
  .card-blurb{ padding:0 16px 12px 16px }
  .card-media{ padding:12px; margin-bottom:16px }
}

/* CTA redundancy safety */
.cta{ color:var(--text); background:none; cursor:pointer }
.cta:visited{ color:var(--text) }
.cta:hover{ color:var(--accent); border-color:var(--accent); background:rgba(232,214,138,.10) }
.cta:focus-visible{ outline:2px solid var(--accent); outline-offset:2px; border-radius:999px }

/* ===========================
   Optional halo
   =========================== */
/* Halo wrapper */
.halo-wrap {
  position: relative;
  isolation: isolate;
  overflow: visible; /* let the glow spill out */
}

/* Default: off */
.halo-wrap::before {
  content: "";
  position: absolute;
  inset: -50% -30%;       /* make it much larger than the block */
  z-index: -1;
  pointer-events: none;
  display: none;
  background: radial-gradient(
    circle at 40% 50%,              /* origin slightly left of text center */
    rgba(232,214,138,0.35) 0%,      /* bright gold center */
    rgba(232,214,138,0.15) 25%,     /* smooth fade */
    rgba(232,214,138,0.05) 55%,
    rgba(232,214,138,0) 80%
  );
  filter: blur(60px);               /* soften edges */
}

/* Turn halo on only when .halo-on is present */
.halo-wrap.halo-on::before {
  display: block;
}

/* Swap columns only on desktop: keeps DOM order for mobile/ARIA */
@media (min-width:900px){
  .swap-desktop .grid.cols-2 > :first-child { order: 2; } /* text -> right */
  .swap-desktop .grid.cols-2 > :last-child  { order: 1; } /* image -> left */
}

/* Gentle crop for Projects image */
.media.gentle-crop{
  max-height:460px;              /* taller than .cropped */
}
.media.gentle-crop > img{
  width:100%; height:100%;
  object-fit:cover;
  object-position:center 40%;    /* show a bit more top */
}
